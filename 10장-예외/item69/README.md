# 예외는 진짜 예외 상황에만 사용하라

예외는 오직 예외 상황에서만 써야한다. 절대로 일상적인 제어 흐름용으로 쓰여서는 안된다.

* 표준적이고 쉽게 이해되는 관용구를 사용하고, 성능 개선 목적으로 과하게 머리를 쓴 기법을 자제해야한다.
    * 실제로 성능이 좋아지더라도 자바 플랫폼이 개선됨에 따라 최적화로 얻은 상대적인 성능 우위가 오래가지 않을 수 있다.
    * 과하게 영리한 기법에 숨겨진 미묘한 버그의 폐헤와 어려워진 유지보수 문제는 계속 이어진다.
  
* 잘 설계된 API라면 클라이언트가 정상적인 제어 흐름에서 예외를 사용할 일이 없게 해야 한다.
    * 상태 의존적 메서드를 제공하는 클래스는 '상태 검사' 메서드도 함께 제공해 줘야 한다.
    * 그렇지 않을 경우 예외를 이용한 제어처리가 필요할 수 있음.


Iterator 가 hasNext()를 제공해 주기 때문에
```java
for (Iterator<Foo> i = collection.iterator(); i.hasNext(); ) {
    Foo foo = i.next();
    ...
}
```
  
만약에 Iterator 가 hasNext() 함수를 제공해 주지 않았다면?
```java
try {
    Iterator<Foo> i = collection.iterator();
    while(true){
        Foo foo = i.next();    
    }
}catch (NoSuchElementExcetpion e){

}
```

상태 검사 메서드 대신 사용할 수 있는 선택지로는 빈 옵셔널 혹은 null 같은 특수한 값을 반환할 수 있다.
어떨때 옵셔널 혹은 특정 값, 상태 검사 메서드를 선택할 수 있을까?

옵셔널, 특정값
* 외부 동기화 없이 여러 스레드가 동시에 접근할 수 있거나 외부 요인으로 상태가 변할 가능성이 있다면
  사용 가능하다. 상태 검사 메서드와 상태 의존적 메서드 호출 사이에 상태가 변할 가능성이 있기 때문
* 성능이 중요한 상황에서 상태 검사 메서드가 상태 의존적 메서드 작업 일부를 중복 수행한다면 사용 가능하다.

상태 검사 메서드
* 위의 경우를 제외한 모든 경우에 상태 검사 메서드가 더 낫다. 가독성도 좋고 잘못 사용했을 때 발견하기가 쉽다.
상태 검사 메서드를 깜박 하더라도 상태 의존적 메서드가 예외를 던져준다.
