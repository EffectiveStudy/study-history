# 공유 중인 가변 데이터는 동기화해 사용하라

----

`synchronized` 키워드는 해당 메소드 블록을 한 스레드씩 수행 하도록 보장

> 동기화는 배타적 실행뿐 아니라 스레드 사이 안정적인 통신에 필요

`배타적 실행`
하나의 작업이 다른 작업과 동시에 실행될 수 없음을 보장

오직 하나의 프로세스, 쓰레드, 코어 등이 해당 자원을 사용하는 것

`스레드간 통신`
다른 스레드와 정보를 주고 받는 것

`Thread.stop` 은 안전하지 않아 사용하면 안됨


쓰기와 읽기 모두가 동기화 되어야 동작을 보장

베타적 수행과 관계없이 스레드간 통신만 필요한 경우는

`volatile` 키워드를 사용 할 수 있음

`java.util.concurrent.atomic` 패키지는 락없이도 안전한 쓰레드 프로그래밍 지원

volatile 과 다르게 배타적 실행 까지 지원하며 성능도 더 우수

> 가변데이터는 단일 스레드에서만 사용해보자

다른 스레드에 데이터를 공유 할떄 한 스레드에서 데이터를 
모두 수정한 사실상 불변상태로 전달되어야 함 -> 안전 발행


---

### 핵심정리

> 여러 쓰레드가 가변데이터를 공유한다면 그 데이터를 읽고 쓰는 동작은 반드시 동기화
> 
> 

---

[스터디 발표 소스 repository](https://github.com/EffectiveStudy/leesangho/tree/main/src/main/java/com/github/sangholee/dev/effectivejavastudy/study15_item78)
